# kubectl apply -f https://raw.githubusercontent.com/astbss/kafka-kubernetes/master/Utils/kafka-connect.yml
# kubectl apply -f ./kafka-connect.yml

# WARNING: This image do not work with Kafka Connect and MySQL / MariaDB
# USE kafka-connect-jdbc.yml

apiVersion: v1
kind: Pod
metadata:
  name: kafkaconnect
  namespace: kafka
spec:
  volumes:
  - name: connectors
    hostPath:
      path: /var/kafka1/Connectors

  containers:
  - command:
    - sh
    - -c
    - exec tail -f /dev/null
    image: solsson/kafka@sha256:2c822e821fa82d36e8b7fcc1eb9700b5412e629fb5f1a9fdec91e42eb6f674d2
    imagePullPolicy: IfNotPresent
    volumeMounts:
    - name: connectors
      mountPath: /opt/kafka/Connectors    
    name: kafka-connect
    resources: {}
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    
  - name: debian-network
    command: ["/bin/bash", "-c", "trap : TERM INT; sleep infinity & wait"]
    image: astbss/debian-network
    imagePullPolicy: IfNotPresent
    


# kubectl -n kafka exec -it kafkaconnect -- bash 
# kubectl -n kafka exec -it kafkaconnect --container debian-network -- bash 
# kubectl -n kafka exec -it kafkaconnect --container kafka-connect -- bash  
